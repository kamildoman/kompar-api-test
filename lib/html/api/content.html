<!DOCTYPE HTML><div class="base_container"> <div class="left_menu"> <a href="#"><img class="imgLogo" src="https://uploads-ssl.webflow.com/5e066b03be0f82573b6e8b54/5e28d6321a254c015bb8a7e9_kompar.png"></a> <div class="sidenav" id="sidenav"> <hr><a href="#Introduction" id="Introduction_">Introduction</a><hr> <a href="#Get_started" id="Get_started_">Get started</a><hr> <a href="#Authorization" class="dropdown-btn" id="Authorization_">Authorization<i class="fa fa-caret-down"></i></a> <div class="dropdown-container" id="MenuDrop1"> <a href="#Token" class="sub" id="Token_">Token</a> <a href="#Receiving_access_token" class="sub" id="Receiving_access_token_">Receiving access token</a> <a href="#The_token_is_returned" class="sub" id="The_token_is_returned_">The token is returned</a> <a href="#Sample_request" class="sub" id="Sample_request_">Sample request</a> </div><hr> <a href="#Authentication" class="dropdown-btn" id="Authentication_">Authentication<i class="fa fa-caret-down"></i></a> <div class="dropdown-container" id="MenuDrop2"> <a href="#Header" class="sub" id="Header_">Header</a> <a href="#Sample_request2" class="sub" id="Sample_request2_">Sample request</a> </div><hr> <a href="#Webhooks" class="dropdown-btn" id="Webhooks_">Webhooks<i class="fa fa-caret-down"></i></a> <div class="dropdown-container" id="MenuDrop3"> <a href="#About_webhooks" class="sub" id="About_webhooks_">About webhooks</a> <a href="#Webhook_security" class="sub" id="Webhook_security_">Webhook security</a> <a href="#Applications_webhook" class="sub" id="Applications_webhook_">Applications webhook</a> <a href="#Client_webhook" class="sub" id="Client_webhook_">Client's decision webhook</a> <a href="#Remove_webhook" class="sub" id="Remove_webhook_">Remove webhook</a> </div><hr> <a href="#Offer" class="dropdown-btn" id="Offer_">Offer<i class="fa fa-caret-down"></i></a> <div class="dropdown-container" id="MenuDrop4"> <a href="#Send_offer" class="sub" id="Send_offer_">Send offer</a> </div><hr> <a href="#Methods" class="dropdown-btn" id="Methods_">Methods<i class="fa fa-caret-down"></i></a> <div class="dropdown-container" id="MenuDrop4"> <a href="#" class="sub" id="A_">A</a> <a href="#" class="sub" id="B_">B</a> <a href="#" class="sub" id="C_">C</a> <a href="#" class="sub" id="D_">D</a> </div><hr> </div><div class="left_menu_fotter"> <a href="https://www.kompar.se/"><img src="https://uploads-ssl.webflow.com/5e066b03be0f82573b6e8b54/5e2ad79d941c939418b5fd94_kompar2.png" style="display: table-row"></a> <div style="display: table-row">it@kompar.se</div><hr> <h1>138an Group AB ©2020</h1> </div></div><div class="base"> <div class="section2"> <h1 id="Introduction">Introduction</h1> <div class="title"> Our Web API provides users with fast and reliable access to data about clients' loans applications. </div></div><div class="section2"> <h1 id="Get_started">Get started</h1> <div class="title"> (to determine) </div></div><div class="section2"> <h1 id="Authorization">Authorization</h1> <div class="title"> This guide shows you how to get a user’s authorization to access applications through the API. </div><div class="message"> <h1 id="Token">Token</h1> Requests to the Kompar API require authentication. The user must have granted permission to access the requested data. To prove that the user has granted permission, the request header must include a valid access token. This is achieved by using the Login and Password received from the developer site and calling the token request. <div class="sub_message"> <h1 id="Receiving_access_token">Receiving access token</h1> Using your unique Login and Password you call the token request to retrieve an access token. The call is made towards the endpoint: <div class="endpoint"> GET url/token </div>The header of this GET request must contains the following parameter: <div class="parameter"> <div class="rows"> <div class="left"> <div class="title"> Header </div><hr> Authorization </div><div class="right"> <div class="title"> Value </div><hr> Required. Base 64 encoded string that contains the login and password. The field must have the format: Authorization: Basic </div></div></div></div><div class="sub_message"> <h1 id="The_token_is_returned">The token is returned</h1> On success, the response has the status code 200 OK and the following JSON data in the response body: <div class="parameter"> <div class="rows"> <div class="left"> <div class="title"> Key </div><hr> <h2>success</h2> boolean </div><div class="right"> <div class="title"> Description </div><hr> <h2>true</h2> </div></div><div class="rows"> <div class="left"> <h2>token</h2> string </div><div class="right"> An access token to be used in subsequent calls to the Kompar API. </div></div><div class="rows"> <div class="left"> <h2>token_type</h2> string </div><div class="right"> How the token may be used, always "Bearer". </div></div><div class="rows"> <div class="left"> <h2>expires_in</h2> int </div><div class="right"> The time period (in seconds) for which the token is valid. </div></div></div><div style="margin-top: 30px;">On error, the response has the status code 400 NOT FOUND and the following JSON data in the response body:</div><div class="parameter"> <div class="rows"> <div class="left"> <div class="title"> Key </div><hr> <h2>success</h2> boolean </div><div class="right"> <div class="title"> Description </div><hr> <h2>false</h2> </div></div><div class="rows"> <div class="left"> <h2>message</h2> string </div><div class="right"> Message about error. </div></div></div><div style="margin-top: 30px;">For INTERNAL SERVER ERROR the response has status 500 and returns no data.</div></div><div class="sub_message"> <h1 id="Sample_request">Sample request</h1> An example request to the token endpoint will look something like this: <ul> <li><button onclick="authorizationBash(true)">Bash</button></li><li><button onclick="authorizationNode(true)">Node.js</button></li></ul> <div id="authorizationContent"></div><div style="margin-top: 30px;">Response to the request will look like this:</div><pre style="margin-top: 20px;">{<br>&nbsp;&nbsp;&nbsp;<span style="color: #E5DA73">"success"</span>:&nbsp;<span style="color: #90ee90">true</span> <br>&nbsp;&nbsp;&nbsp;<span style="color: #E5DA73">"token"</span>:&nbsp;<span style="color: #E5DA73">"xxxxx...yyyyy...zzzzz"</span> <br>&nbsp;&nbsp;&nbsp;<span style="color: #E5DA73">"token_type"</span>:&nbsp;<span style="color: #E5DA73">"Bearer"</span> <br>&nbsp;&nbsp;&nbsp;<span style="color: #E5DA73">"expires_in</span>:&nbsp;3600 <br>}</pre> </div></div></div><div class="section2"> <h1 id="Authentication">Authentication</h1> <div class="title"> All requests towards the API's require authentication. </div><div class="message"> <h1 id="Header">Header</h1> The token received from token request must then be used when calling the API by sending it in the request's authorization header. <div class="sub_message"> <div class="endpoint"> Authorization : Bearer xxxxx...yyyyy...zzzzz </div></div><div class="sub_message"> <h1 id="Sample_request2">Sample request</h1> An example request which includes authentication token will look something like this: <ul> <li><button onclick="authenticationBash(true)">Bash</button></li><li><button onclick="authenticationNode(true)">Node.js</button></li></ul> <div id="authenticationContent"></div></div></div></div><div class="section2"> <h1 id="Webhooks">Webhooks</h1> <div class="title"> This section includes all webhooks available through API. <br><br>All requests require authentication. </div><div class="message"> <h1 id="About_webhooks">About webhooks</h1> Kompar provides webhooks to alert of changes regarding clients' applications. These are POST requests to your server that are sent as soon as an event occurs. The body of the request contains details of the event. <div class="sub_message"> <h1 id="Webhook_security">Webhook security</h1> You should verify request header on your server to prevent attackers from imitating valid webhooks. <br><br>TODO <br>TODO <br><br></div><div class="sub_message"> <h1 id="Applications_webhook">Applications webhook</h1> To register applications webhook you have to make call towards the endpoint: <div class="endpoint"> POST url/webhooks/applications </div>The body of this POST request must contains the following parameter: <div class="parameter"> <div class="rows"> <div class="left"> <div class="title"> Body </div><hr> <h2>url</h2> string </div><div class="right"> <div class="title"> Value </div><hr> The url that will listen to notifications (must be HTTPS). </div></div></div><div style="margin-top: 30px;">On success, the response has the status code 200 OK and the following JSON data in the response body:</div><div class="parameter"> <div class="rows"> <div class="left"> <div class="title"> Key </div><hr> <h2>success</h2> boolean </div><div class="right"> <div class="title"> Description </div><hr> <h2>true</h2> </div></div></div><div style="margin-top: 30px;">On error, the response has the status code 400 NOT FOUND and the following JSON data in the response body:</div><div class="parameter"> <div class="rows"> <div class="left"> <div class="title"> Key </div><hr> <h2>success</h2> boolean </div><div class="right"> <div class="title"> Description </div><hr> <h2>false</h2> </div></div><div class="rows"> <div class="left"> <h2>message</h2> string </div><div class="right"> Message about error. </div></div></div><div style="margin-top: 30px;">For INTERNAL SERVER ERROR the response has status 500 and returns no data.</div><div style="margin-top: 40px;">An example request to the applications webhook endpoint will look something like this:</div><ul> <li><button onclick="applicationWebhookBash(true)">Bash</button></li><li><button onclick="applicationWebhookNode(true)">Node.js</button></li></ul> <div id="applicationWebhookContent"></div><div style="margin-top: 30px;">Response to the applications webhook endpoint will look like this:</div><pre style="margin-top: 20px;">{<br>&nbsp;&nbsp;&nbsp;<span style="color: #E5DA73">"success"</span>:&nbsp;<span style="color: #90ee90">true</span><br>}</pre> </div><div class="sub_message"> <h1 id="Client_webhook" style="margin-top: 30px;">Client's decision webhook</h1> To register decisions webhook you have to make call towards the endpoint: <div class="endpoint"> POST url/webhooks/decisions </div>The body of this POST request must contains the following parameter: <div class="parameter"> <div class="rows"> <div class="left"> <div class="title"> Body </div><hr> <h2>url</h2> string </div><div class="right"> <div class="title"> Value </div><hr> The url that will listen to notifications (must be HTTPS). </div></div></div><div style="margin-top: 30px;">On success, the response has the status code 200 OK and the following JSON data in the response body:</div><div class="parameter"> <div class="rows"> <div class="left"> <div class="title"> Key </div><hr> <h2>success</h2> boolean </div><div class="right"> <div class="title"> Description </div><hr> <h2>true</h2> </div></div></div><div style="margin-top: 30px;">On error, the response has the status code 400 NOT FOUND and the following JSON data in the response body:</div><div class="parameter"> <div class="rows"> <div class="left"> <div class="title"> Key </div><hr> <h2>success</h2> boolean </div><div class="right"> <div class="title"> Description </div><hr> <h2>false</h2> </div></div><div class="rows"> <div class="left"> <h2>message</h2> string </div><div class="right"> Message about error. </div></div></div><div style="margin-top: 30px;">For INTERNAL SERVER ERROR the response has status 500 and returns no data.</div><div style="margin-top: 40px;">An example request to the decisions webhook endpoint will look something like this:</div><ul> <li><button onclick="decisionsWebhookBash(true)">Bash</button></li><li><button onclick="decisionsWebhookNode(true)">Node.js</button></li></ul> <div id="decisionsWebhookContent"></div><div style="margin-top: 30px;">Response to the decisions webhook endpoint will look like this:</div><pre style="margin-top: 20px;">{<br>&nbsp;&nbsp;&nbsp;<span style="color: #E5DA73">"success"</span>:&nbsp;<span style="color: #90ee90">true</span><br>}</pre> </div><div class="sub_message" style="margin-top: 30px;"> <h1 id="Remove_webhook">Remove webhook</h1> To remove application webhook you have to make call towards the endpoint: <div class="endpoint"> DELETE url/webhooks/applications </div>To remove decisions webhook you have to make call towards the endpoint: <div class="endpoint"> DELETE url/webhooks/decisions </div><div style="margin-top: 30px;">On success, the response has the status code 200 OK and the following JSON data in the response body:</div><div class="parameter"> <div class="rows"> <div class="left"> <div class="title"> Key </div><hr> <h2>success</h2> boolean </div><div class="right"> <div class="title"> Description </div><hr> <h2>true</h2> </div></div></div><div style="margin-top: 30px;">On error, the response has the status code 400 NOT FOUND and the following JSON data in the response body:</div><div class="parameter"> <div class="rows"> <div class="left"> <div class="title"> Key </div><hr> <h2>success</h2> boolean </div><div class="right"> <div class="title"> Description </div><hr> <h2>false</h2> </div></div><div class="rows"> <div class="left"> <h2>message</h2> string </div><div class="right"> Message about error. </div></div></div><div style="margin-top: 30px;">For INTERNAL SERVER ERROR the response has status 500 and returns no data.</div><div style="margin-top: 40px;">An example request to the delete webhook endpoint will look something like this:</div><ul> <li><button onclick="applicationWebhookBash(true)">Bash</button></li><li><button onclick="applicationWebhookNode(true)">Node.js</button></li></ul> <div id="applicationWebhookContent"></div><div style="margin-top: 30px;">Response to the delete webhook endpoint will look like this:</div><pre style="margin-top: 20px;">{<br>&nbsp;&nbsp;&nbsp;<span style="color: #E5DA73">"success"</span>:&nbsp;<span style="color: #90ee90">true</span><br>&nbsp;&nbsp;&nbsp;<span style="color: #E5DA73">"message"</span>:&nbsp;<span style="color: #E5DA73">"The applications/decision webhook has been deleted."</span><br>}</pre> </div></div></div><div class="section2"> <h1 id="Offer">Offer</h1> <div class="title"> This section shows how to send offer for specific application after receiving it from webhook. </div><div class="message"> <h1 id="Send_offer">Send offer</h1> To send an offer for application you have to make call towards the endpoint: <div class="sub_message"> <div class="endpoint"> POST url/offer </div>The body of this POST request must contains the following parameter: <div class="parameter"> <div class="rows"> <div class="left"> <div class="title"> Body </div><hr> <h2>application_id</h2> string </div><div class="right"> <div class="title"> Value </div><hr> The id of application existed in our system. </div></div><div class="rows"> <div class="left"> <h2>granted_amount</h2> int </div><div class="right"> TODO </div></div><div class="rows"> <div class="left"> <h2>total_cost</h2> int </div><div class="right"> TODO </div></div></div></div></div></div><div class="section2"> <h1 id="Methods">Methods</h1> <div class="title"> This section includes all methods available through API. <div class="sub_message"> <h1 id="A">A</h1><br><br><br><br><br><br><br><br><br><br><br><br></div><div class="sub_message"> <h1 id="B">B</h1><br><br><br><br><br><br><br><br><br><br><br><br></div><div class="sub_message"> <h1 id="C">C</h1><br><br><br><br><br><br><br><br><br><br><br><br></div><div class="sub_message"> <h1 id="D">D</h1><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div></div></div></div></div>